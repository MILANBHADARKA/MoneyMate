


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoneyMate - Your stress-free solution for group expenses.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#2563EB",
                        secondary: "#F97316",
                        lightGray: "#F3F4F6",
                    },
                    spacing: {},
                }
            }
        }
    </script>
    <link rel="stylesheet" href="/css/loader.css">
</head>
<body class="bg-lightGray min-h-screen flex items-center justify-center">

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 hidden">
    <div class="modern-spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>

  <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8">
    <!-- Registration Form -->
    <h1 class="text-3xl font-semibold text-center text-gray-800 mb-6">Register</h1>

    <form id="registrationform" action="/registration" method="post" autocomplete="off" enctype="multipart/form-data" class="space-y-6">
      
        <!-- Username Field -->
        <input class="w-full border-2 border-gray-300 rounded-md p-3 focus:border-primary focus:ring-primary focus:outline-none"
               type="text" name="username" id="username" placeholder="Username" 
               value="<%= typeof username !== 'undefined' ? username : '' %>" required>

        <!-- Email Field -->
        <input class="w-full border-2 border-gray-300 rounded-md p-3 focus:border-primary focus:ring-primary focus:outline-none"
               type="text" name="email" id="email" placeholder="Email"
               value="<%= typeof email !== 'undefined' ? email : '' %>" required>

        <!-- Password Field -->
        <input class="w-full border-2 border-gray-300 rounded-md p-3 focus:border-primary focus:ring-primary focus:outline-none"
               type="password" name="password" id="password" placeholder="Password" required>

        <!-- Confirm Password Field -->
        <input class="w-full border-2 border-gray-300 rounded-md p-3 focus:border-primary focus:ring-primary focus:outline-none"
               type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm Password" required>

        <!-- Profile Picture Upload -->
        <input class="w-full file:border-0 file:rounded-md file:bg-primary file:text-white file:py-2 file:px-4 file:cursor-pointer mt-2" 
               type="file" name="profilepic" id="profilepic" accept=".jpg, .jpeg, .png">

        <!-- Error/Success Messages -->
        <div class="text-center">
          <!-- error -->
          <% if (typeof error !== 'undefined') { %>
            <p class="text-red-500"><%= error %></p>
          <% } %>
          <!-- success -->
          <% if (typeof success !== 'undefined') { %>
            <p class="text-green-500"><%= success %></p>
          <% } %>
        </div>

        <!-- Register Button -->
        <button class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-600 transition duration-300">
            Register
        </button>
    </form>

    <!-- Login Link -->
    <div class="text-center mt-6">
        <span>Already have an account? </span><a href="/login" class="text-primary">Login</a>
    </div>

  </div>

  <script src="/js/app.js"></script>
  <script>
    // JavaScript to handle loading spinner display on form submission
    document.getElementById('registrationform').addEventListener('submit', function(event) {
        // Show the loading overlay
        document.getElementById('loadingOverlay').classList.remove('hidden');

        // Disable the form submit button to prevent multiple submissions
        document.querySelector('button[type="submit"]').disabled = true;
    });
</script>

</body>
</html>
